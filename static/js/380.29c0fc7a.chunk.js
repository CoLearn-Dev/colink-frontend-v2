"use strict";(self.webpackChunkcolink_client=self.webpackChunkcolink_client||[]).push([[380],{22380:function(n,e,t){t.r(e),t.d(e,{getPrefixFromPath:function(){return m},isDirectory:function(){return y},useFileActionHandler:function(){return v}});var r=t(93433),i=t(29439),s=t(74165),a=t(15861),c=t(72791),u=t(78983),o=t(38108),l=t(50427),f=t(59434),d=t(28406),p=t(57253),h=t(63303),x=t(80184);function m(n){return n.substring(0,n.indexOf("@"))}function y(n){return"@0"===n.slice(-2)}(0,o._5)({iconComponent:l.K});var j=function(){var n=(0,a.Z)((0,s.Z)().mark((function n(e,t){var r,i;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=m(e),i=[],n.next=4,t(r).then((function(n){i=Array.from(n).map((function(n){return{id:n,name:(0,d.R8)(n),isDir:y(n),isHidden:!1}}))}));case 4:return n.abrupt("return",Promise.resolve(i));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),b=function(){var n=(0,a.Z)((0,s.Z)().mark((function n(e){var t,r,i,a,c,u,o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(t={id:"@",name:"root",isHidden:!1,isDir:!0},r=[],i=e.substring(0,e.indexOf("::"))+"::",a=e.substring(e.indexOf("::")+2);""!==a;)u={id:c=i+a,name:(0,d.R8)(c),isDir:y(c),isHidden:!1},r.unshift(u),o=a.lastIndexOf(":"),a=-1!==o?a.substring(0,o)+"@0":"";return r.unshift(t),n.abrupt("return",Promise.resolve(r));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),v=function(n,e){return(0,c.useCallback)((function(t){t.id===o.p$.OpenFiles.id&&"undefined"!==typeof t.payload.targetFile&&(t.payload.targetFile.isDir?n(t.payload.targetFile.id):e((0,d.E6)(t.payload.targetFile.id)))}),[n])},Z=[(0,o.S_)({id:"testPrint",requiresSelection:!0,button:{name:"Test",toolbar:!0,group:"Options"}})],g=function(n){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),u=t[0],l=t[1],f=(0,c.useState)([]),d=(0,i.Z)(f,2),p=d[0],h=d[1];(0,c.useEffect)((function(){function e(){return(e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n.path).then((function(n){h((0,r.Z)(n))}));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return t=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n.path,n.getKeys).then((function(n){l((0,r.Z)(n))}));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}(),function(){e.apply(this,arguments)}()}),[n.path]);var m=v(n.setPath,n.displayEntry);return(0,x.jsx)("div",{style:{height:400},children:(0,x.jsxs)(o.fy,{instanceId:n.instanceId,files:u,fileActions:Z,folderChain:p,onFileAction:m,thumbnailGenerator:function(n){return null},children:[(0,x.jsx)(o.Tn,{}),(0,x.jsx)(o.TY,{}),(0,x.jsx)(o.mF,{}),(0,x.jsx)(o.e9,{})]})})};e.default=function(){var n=(0,f.v9)((function(n){return n.jwt})).jwt,e=(0,f.v9)((function(n){return n.client})).client,t=((0,f.I0)(),(0,c.useState)("")),r=(0,i.Z)(t,2),o=r[0],l=r[1],m=new p.StorageEntry,y=(0,c.useState)(m),j=(0,i.Z)(y,2),b=j[0],v=j[1],Z=(0,c.useState)(!1),w=(0,i.Z)(Z,2),k=w[0],S=w[1],P=(0,c.useState)(!0),F=(0,i.Z)(P,2),C=F[0];F[1];function E(){return E=(0,a.Z)((0,s.Z)().mark((function t(r){var i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[],""!==r){t.next=6;break}return t.next=4,(0,d.eM)(e,n).then((function(n){i=n.map((function(n){return n.getKeyPath()}))}));case 4:t.next=8;break;case 6:return t.next=8,(0,d.eM)(e,n,r).then((function(n){i=n.map((function(n){return n.getKeyPath()}))}));case 8:return t.abrupt("return",Promise.resolve(i));case 9:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}function N(){return N=(0,a.Z)((0,s.Z)().mark((function t(r){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.Cf)(e,n,r).then((function(n){v(n),S(!0)}));case 2:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}return(0,c.useEffect)((function(){""!==n&&""!==e&&l("@")}),[n,e]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(u.xH,{className:"mb-4",children:[(0,x.jsx)(u.sl,{children:(0,x.jsx)(u.rb,{children:(0,x.jsx)(u.b7,{sm:5,children:(0,x.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Storage Entries"})})})}),(0,x.jsx)(u.Bt,{children:(0,x.jsx)(u.rb,{className:"text-center",children:(0,x.jsx)(g,{instanceId:"ah",path:o,setPath:l,getKeys:function(n){return E.apply(this,arguments)},displayEntry:function(n){return N.apply(this,arguments)}})})})]}),(0,x.jsxs)(u.Tk,{size:"lg",backdrop:"static",style:{maxWidth:"75%",marginLeft:"12.5%"},visible:k,onClose:function(){return S(!1)},alignment:"center",children:[(0,x.jsx)(u.p0,{children:(0,x.jsxs)(u.fl,{children:["Entry: ",k?(0,d.R8)(b.getKeyPath()):""]})}),(0,x.jsxs)(u.sD,{children:[(0,x.jsx)(u.dL,{children:(0,x.jsx)(u.xH,{})}),(0,x.jsx)(u.dL,{children:(0,x.jsx)(u.xH,{className:"p-2",children:(0,x.jsxs)(u.sl,{className:"text-center",children:[(0,x.jsx)("div",{style:{whiteSpace:"pre-wrap",textAlign:"left",overflowWrap:"break-word",width:"100%"},children:k?JSON.stringify((0,d.hm)(b,C),null,2):""}),(0,x.jsx)(u.u5,{className:"ms-2",active:!0,tabIndex:-1,color:"info",children:(0,x.jsx)("a",{download:"payload.txt",href:k?(0,h.px)(JSON.stringify((0,d.hm)(b,C),null,2)):"#",children:"Download Entry"})})]})})})]}),(0,x.jsx)(u.Ym,{children:(0,x.jsx)(u.u5,{color:"secondary",onClick:function(){return S(!1)},children:"Close"})})]})]})}}}]);
//# sourceMappingURL=380.29c0fc7a.chunk.js.map